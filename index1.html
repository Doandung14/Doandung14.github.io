<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./style1.css" />
  </head>

  <body>
    <div class="container-fluid">
      <div class="container">
        <div class="hero">
          <div class="logo">
            <h1>Bảng công việc</h1>
            <p>Tìm kiếm công việc phù hợp với bạn</p>
            <h2 id="jobs-listed">
              <span>300</span> công việc có trong danh sách
            </h2>
          </div>
          <div class="menu">
            <button id="show-all">Tất cả công việc</button>
            <input
              id="search"
              type="text"
              placeholder="Tìm kiếm ..."
              autocomplete="off"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2 class="text-center mt-5">Danh sách công việc hiện có</h2>
        </div>
      </div>
      <div class="row jobs">
        <div class="col-md-3 job-card">
          <div class="job-card-inner">
            <h3>Software Engineer</h3>
            <h4>$50</h4>
            <ul>
              <li>Node.js</li>
              <li>Git</li>
              <li>AWS</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Yêu cầu: Sử dụng Javascript để thực hiện các công việc sau

      // 1. Thêm 3 job bổ sung vào phần 'job' của trang bằng cách sao chép 'job-card' ban đầu.

      var job = document.querySelector(".job-card");
      var cln = job.cloneNode(true);
      document.querySelector(".jobs").appendChild(cln);
      var cln2 = job.cloneNode(true);
      document.querySelector(".jobs").appendChild(cln2);
      var cln3 = job.cloneNode(true);
      document.querySelector(".jobs").appendChild(cln3);

      // 2. Cập nhật tiêu đề của các job mới thành : JavaScript Developer, Java Developer, Python Developer

      var intro1 = document.querySelector(".job-card-inner > h3");
      intro1.innerHTML = "JavaScript Developer";
      var intro2 = cln.querySelector("h3");
      intro2.innerText = "Java Developer";
      var intro3 = cln2.querySelector("h3");
      intro3.innerText = "Python Developer";
      var intro4 = cln3.querySelector("h3");
      intro4.innerText = "PHP";

      // 3. Cập nhật Jobs listed thành tổng số công việc hiện có trong trang

      var count = document.querySelectorAll(".job-card").length;
      var newCount = document.querySelector("#jobs-listed > span");
      newCount.innerText = count;

      // 4. Nhập tên công việc vào ô tìm kiếm để lọc các công việc (lọc theo tên công việc). Những công việc được tìm thấy sẽ hiển thị ra, còn lại sẽ bị ẩn đi

      var displayJobs = document.querySelector(
        "body > div.container > div.row.jobs"
      );
      var showJobs = document.querySelector("#show-all");
      displayJobs.style.display = "none";
      showJobs.addEventListener("click", function () {
        search1.value = "";
        return (displayJobs.style.display = "flex");
      });
      var jobAll = document.querySelectorAll(".job-card");
      var search1 = document.querySelector("#search");
      search1.addEventListener("keyup", function () {
        for (let i = 0; i < jobAll.length; i++) {
          if (
            jobAll[i].querySelector("h3").innerText.indexOf(search1.value) == -1
          ) {
            jobAll[i].style.display = "none";
          } else if (
            jobAll[i].querySelector("h3").innerText.indexOf(search1.value) != -1
          ) {
            jobAll[i].style.display = " block";
          }
          // if (
          //   jobAll[i].querySelector("h3").innerText.indexOf(search1.value) != -1
          // ) {
          //   jobAll[i].style.display = " block";
          // }  else {
          //   jobAll[i].style.display = " none";
          // }
        }
      });

      // 5. Bấm vào Nút "All jobs" để reset ô tìm kiếm và hiển thị ra tất cả các công việc
    </script>
  </body>
</html>
